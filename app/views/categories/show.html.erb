<div id="category-show-page-banner"class="card-category" style="font-size: 26px; background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/breakfast.jpg)">
  <%= @category.title %>
</div>
<div
  class="container d-flex justify-content-between"
  style="padding-left: 10px; padding-right: 10px; margin-top: 15px;"
>
  <div><button
      type="button"
      class="btn btn-outline-secondary"
      id="amsterdam-btn"
      style="border-radius: 20px; width: 110px;"
    >Amsterdam</button></div>
  <div><button
      type="button"
      class="btn btn-outline-secondary"
      id="rotterdam-btn"
      style="border-radius: 20px; width: 110px;"
    >Rotterdam</button></div>
  <div><button
      type="button"
      class="btn btn-outline-secondary"
      id="the-hague-btn"
      style="border-radius: 20px; width: 110px;"
    >The Hague</button></div>
</div>
<hr>
<div id="category-page-main">
  <%= render 'suggestions/list' %>
</div>
<script>
  const categoryPage = document.querySelector('#category-page-main')

  const amsterdamButton = document.querySelector('#amsterdam-btn')
  amsterdamButton.addEventListener('click', (event) => {
    const referrerUrl = document.referrer.split('/')

    fetch(`${referrerUrl[4]}?filter=Amsterdam`, {headers: {"Accept": "text/plain"}})
    .then(response => response.text())
    .then((data) => {
      categoryPage.outerHTML = data
    })
  })

  const rotterdamButton = document.querySelector('#rotterdam-btn')
  rotterdamButton.addEventListener('click', (event) => {
    const referrerUrl = document.referrer.split('/')

    fetch(`${referrerUrl[4]}?filter=Rotterdam`, {headers: {"Accept": "text/plain"}})
    .then(response => response.text())
    .then((data) => {
      categoryPage.outerHTML = data
    })
  })

  const theHagueButton = document.querySelector('#the-hague-btn')
  theHagueButton.addEventListener('click', (event) => {
    const referrerUrl = document.referrer.split('/')

    fetch(`${referrerUrl[4]}?filter=TheHague`, {headers: {"Accept": "text/plain"}})
    .then(response => response.text())
    .then((data) => {
      categoryPage.outerHTML = data
    })
  })
</script>
