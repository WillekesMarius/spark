<div class="cover">
  <p
    class='text-dashboard'
    style="position: absolute; left: 50%; top: 134px; transform: translate(-50%); z-index: 1000; font-weight: 700; font-size: 28px; color: white; text-shadow: rgba(0, 0, 0, 0.7) 0px 5px 15px;"
  >Your Sparks</p>
  <div class="card bg-dark text-white image-container" style="height: 150px;">

    <img class="card-img" src="assets/dashboard-2.jpeg" alt="card image">
    <div class="gradient-overlay"></div>
  </div>
</div>
<div class="container" style="margin-top: 70px">
  <% @suggestions.each do |suggestion| %>
    <%= link_to suggestion_path(suggestion), class: 'text-decoration-none text-dark' do %>
      <div class="card mb-3 suggestion-cards" style='overflow: hidden'>
        <% if suggestion.images.present? %>
          <%= image_tag(
            suggestion.images[0],
            class: "card-img-top",
            style: "max-height:250px;"
          ) %>

        <% else %>
          <%= image_tag("food-01.jpg", class: "card-img-top") %>
        <% end %>
        <div class="suggestion-cards-info">
          <h5
            class="card-title"
            style="padding-top: 15px; font-weight: 700; letter-spacing: 1px; padding-bottom: -1px; "
          ><%= suggestion.title %></h5>
          <% cities = %w[Amsterdam Rotterdam Alkmaar Utrecht] %>
          <% rating = suggestion.rating %>
          <% type = suggestion.sub_category %>
          <div>
            <p class="card-text"><i class="fa-solid fa-location-dot"></i>
              <%= cities.sample %>
              &nbsp;
              <%= type %>
              <i class="fa-solid fa-star brand-text" style="font-size: 14px">
                <%= rating %></i>
            </p>
          </div>
            <div id="map"></div>
            <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoicHJhY2hpMjUiLCJhIjoiY2xtM3Q1N2lyNDY0bTNxdGh1eG1vMW94MCJ9.eRtL5A5z0SDvt0ViEDskCw';
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/streets-v12',
          center: [<%= suggestion.longitude %>, <%= suggestion.latitude %>],
          zoom: 14
        });

      </script>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
